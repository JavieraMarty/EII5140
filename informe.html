<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Informe General</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background-color: #111;
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 40px;
    }

    h1 {
      font-size: 42px;
      margin-bottom: 30px;
    }

    .fila {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .bloque-imagen {
      background-color: #b5ff63;
      border-radius: 10px;
      padding: 15px;
      flex: 1;
      min-width: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .bloque-imagen img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
    }

    .bloque-recomendacion {
      background-color: #b5ff63;
      border-radius: 10px;
      padding: 20px;
      flex: 1;
      min-width: 300px;
      color: black;
    }

    .bloque-recomendacion h2 {
      font-size: 22px;
      margin-top: 0;
      margin-bottom: 10px;
    }

    .bloque-recomendacion h3 {
      font-size: 18px;
      margin-bottom: 5px;
    }

    ul {
      margin-top: 0;
      padding-left: 20px;
    }

    @media (max-width: 768px) {
      .fila {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <h1>Informe General</h1>

  <!-- Fila 1 -->
  <div class="fila">
    <div class="bloque-imagen">
      <img src="https://raw.githubusercontent.com/JavieraMarty/EII5140/main/img/top10materias.jpeg" alt="Top 10 materias primas">
    </div>
    <div class="bloque-recomendacion">
      <h2>Recomendaciones</h2>
      <h3>Cl√∫ster 0 ‚Äì Riesgo bajo y puntual</h3>
      <ul>
        <li>Mantener monitoreo est√°ndar.</li>
        <li>Considerar programas de formaci√≥n o asistencia t√©cnica para prevenci√≥n de futuras alertas.</li>
      </ul>
    </div>
  </div>

  <!-- Fila 2 -->
  <div class="fila">
    <div class="bloque-imagen">
      <img src="https://raw.githubusercontent.com/JavieraMarty/EII5140/main/img/top10empresas.jpeg" alt="Top 10 empresas con alertas">
    </div>
    <div class="bloque-recomendacion">
      <h3>Cl√∫ster 1 ‚Äì Riesgo emergente con variedad alta</h3>
      <ul>
        <li>Monitoreo proactivo y priorizaci√≥n en planes de fiscalizaci√≥n.</li>
        <li>Evaluar si el tipo de alerta sugiere problemas de origen sist√©mico (ej. procesos, calidad, proveedores).</li>
      </ul>
    </div>
  </div>

  <!-- Fila 3 -->
  <div class="fila">
    <div class="bloque-imagen">
      <img src="https://raw.githubusercontent.com/JavieraMarty/EII5140/main/img/clustering.jpeg" alt="Clustering de empresas">
    </div>
    <div class="bloque-recomendacion">
      <h3>Cl√∫ster 2 ‚Äì Riesgo sostenido</h3>
      <ul>
        <li>Auditar con mayor frecuencia.</li>
        <li>Considerar sanciones o restricciones si hay reincidencia sin mejora.</li>
        <li>Verificar si existe un patr√≥n com√∫n (origen, materia prima, agente) que justifique alertas reiteradas.</li>
      </ul>
    </div>
  </div>
  <!-- Bot√≥n Volver arriba -->
<button id="btnArriba" title="Volver arriba">‚¨Ü</button>

<!-- Bot√≥n Descargar PDF -->
<button id="btnDescargar" title="Descargar informe">üìÑ Descargar PDF</button>

<!-- Librer√≠a PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<!-- Script de funcionalidades -->
<script>
  // Bot√≥n volver arriba
  const btnArriba = document.getElementById("btnArriba");
  window.onscroll = function () {
    btnArriba.style.display = (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) ? "block" : "none";
  };
  btnArriba.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  // Bot√≥n descargar PDF
  document.getElementById("btnDescargar").addEventListener("click", () => {
    const element = document.body;
    const opt = {
      margin:       0.5,
      filename:     'informe_general.pdf',
      image:        { type: 'jpeg', quality: 0.98 },
      html2canvas:  { scale: 2 },
      jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
    };
    html2pdf().from(element).set(opt).save();
  });
</script>
</body>
</html>
